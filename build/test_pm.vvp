#! /c/Source/iverilog-install/bin/vvp
:ivl_version "12.0 (devel)" "(s20150603-1539-g2693dd32b)";
:ivl_delay_selection "TYPICAL";
:vpi_time_precision - 12;
:vpi_module "R:\icarus_verilog\iverilog\iverilog\lib\ivl\system.vpi";
:vpi_module "R:\icarus_verilog\iverilog\iverilog\lib\ivl\vhdl_sys.vpi";
:vpi_module "R:\icarus_verilog\iverilog\iverilog\lib\ivl\vhdl_textio.vpi";
:vpi_module "R:\icarus_verilog\iverilog\iverilog\lib\ivl\v2005_math.vpi";
:vpi_module "R:\icarus_verilog\iverilog\iverilog\lib\ivl\va_math.vpi";
:vpi_module "R:\icarus_verilog\iverilog\iverilog\lib\ivl\v2009.vpi";
S_000001e86065a9a0 .scope package, "$unit" "$unit" 2 1;
 .timescale 0 0;
S_000001e86065b5e0 .scope package, "accel_pkg" "accel_pkg" 3 9;
 .timescale 0 0;
P_000001e860661880 .param/l "ACCUM_WIDTH" 0 3 15, +C4<00000000000000000000000000010000>;
P_000001e8606618b8 .param/l "ADDR_WIDTH" 0 3 16, +C4<00000000000000000000000000010000>;
P_000001e8606618f0 .param/l "BRAM_ADDR_WIDTH" 0 3 45, +C4<00000000000000000000000000001011>;
P_000001e860661928 .param/l "BRAM_BANKS" 0 3 17, +C4<00000000000000000000000000010011>;
P_000001e860661960 .param/l "BRAM_DEPTH" 0 3 44, +C4<00000000000000000000100000000000>;
P_000001e860661998 .param/l "CNN_MACS" 0 3 91, +C4<00000000000000000000000000001001>;
P_000001e8606619d0 .param/l "DATA_WIDTH" 0 3 14, +C4<00000000000000000000000000001000>;
P_000001e860661a08 .param/l "FRAC_BITS" 0 3 81, +C4<00000000000000000000000000000100>;
P_000001e860661a40 .param/l "INT_BITS" 0 3 80, +C4<00000000000000000000000000000100>;
P_000001e860661a78 .param/l "MLP_MACS" 0 3 90, +C4<00000000000000000000000000001000>;
P_000001e860661ab0 .param/l "RNN_MACS" 0 3 92, +C4<00000000000000000000000000000100>;
P_000001e860661ae8 .param/l "SAT_MAX" 0 3 84, +C4<01111111>;
P_000001e860661b20 .param/l "SAT_MIN" 0 3 85, +C4<10000000>;
enum000001e860630bb0 .enum4 (2)
   "ACCEL_MLP" 2'b00,
   "ACCEL_CNN" 2'b01,
   "ACCEL_RNN" 2'b10
 ;
enum000001e860630c50 .enum4 (3)
   "STATE_IDLE" 3'b000,
   "STATE_LOAD_WEIGHTS" 3'b001,
   "STATE_LOAD_INPUT" 3'b010,
   "STATE_COMPUTE" 3'b011,
   "STATE_STORE_OUTPUT" 3'b100,
   "STATE_DONE" 3'b101
 ;
enum000001e860630cf0 .enum4 (2)
   "ACCESS_SEQUENTIAL" 2'b00,
   "ACCESS_SLIDING_2D" 2'b01,
   "ACCESS_CIRCULAR" 2'b10
 ;
enum000001e86061fb00 .enum4 (5)
   "BANK_INPUT_0" 5'b00000,
   "BANK_INPUT_1" 5'b00001,
   "BANK_OUTPUT_0" 5'b00010,
   "BANK_OUTPUT_1" 5'b00011,
   "BANK_WEIGHT_0" 5'b00100,
   "BANK_WEIGHT_1" 5'b00101,
   "BANK_WEIGHT_2" 5'b00110,
   "BANK_WEIGHT_3" 5'b00111,
   "BANK_WEIGHT_4" 5'b01000,
   "BANK_WEIGHT_5" 5'b01001,
   "BANK_WEIGHT_6" 5'b01010,
   "BANK_WEIGHT_7" 5'b01011,
   "BANK_WEIGHT_8" 5'b01100,
   "BANK_WEIGHT_9" 5'b01101,
   "BANK_WEIGHT_10" 5'b01110,
   "BANK_WEIGHT_11" 5'b01111,
   "BANK_ACTIVATION_0" 5'b10000,
   "BANK_ACTIVATION_1" 5'b10001,
   "BANK_BIAS" 5'b10010
 ;
S_000001e86064ec30 .scope autofunction.vec4.s8, "relu" "relu" 3 141, 3 141 0, S_000001e86065b5e0;
 .timescale 0 0;
; Variable relu is vec4 return value of scope S_000001e86064ec30
v000001e860658960_0 .var/s "x", 7 0;
TD_accel_pkg.relu ;
    %load/vec4 v000001e860658960_0;
    %parti/s 1, 7, 4;
    %flag_set/vec4 8;
    %jmp/0 T_0.0, 8;
    %pushi/vec4 0, 0, 8;
    %jmp/1 T_0.1, 8;
T_0.0 ; End of true expr.
    %load/vec4 v000001e860658960_0;
    %jmp/0 T_0.1, 8;
 ; End of false expr.
    %blend;
T_0.1;
    %ret/vec4 0, 0, 8;  Assign to relu (store_vec4_to_lval)
    %disable/flow S_000001e86064ec30;
    %end;
S_000001e860655a60 .scope autofunction.vec4.s8, "saturate" "saturate" 3 129, 3 129 0, S_000001e86065b5e0;
 .timescale 0 0;
v000001e860658320_0 .var/s "acc", 15 0;
; Variable saturate is vec4 return value of scope S_000001e860655a60
TD_accel_pkg.saturate ;
    %load/vec4 v000001e860658320_0;
    %cmpi/s 127, 0, 16;
    %flag_or 5, 4; GT is !LE
    %flag_inv 5;
    %jmp/0xz  T_1.2, 5;
    %pushi/vec4 127, 0, 8;
    %ret/vec4 0, 0, 8;  Assign to saturate (store_vec4_to_lval)
    %disable/flow S_000001e860655a60;
    %jmp T_1.3;
T_1.2 ;
    %load/vec4 v000001e860658320_0;
    %cmpi/s 65408, 0, 16;
    %jmp/0xz  T_1.4, 5;
    %pushi/vec4 128, 0, 8;
    %ret/vec4 0, 0, 8;  Assign to saturate (store_vec4_to_lval)
    %disable/flow S_000001e860655a60;
    %jmp T_1.5;
T_1.4 ;
    %load/vec4 v000001e860658320_0;
    %parti/s 8, 0, 2;
    %ret/vec4 0, 0, 8;  Assign to saturate (store_vec4_to_lval)
    %disable/flow S_000001e860655a60;
T_1.5 ;
T_1.3 ;
    %end;
S_000001e8606413d0 .scope autofunction.vec4.u8, "tanh_approx" "tanh_approx" 3 149, 3 149 0, S_000001e86065b5e0;
 .timescale 0 0;
v000001e8606585a0_0 .var/s "abs_x", 7 0;
v000001e860657ce0_0 .var/s "result", 7 0;
; Variable tanh_approx is vec4 return value of scope S_000001e8606413d0
v000001e860657f60_0 .var/s "x", 7 0;
TD_accel_pkg.tanh_approx ;
    %load/vec4 v000001e860657f60_0;
    %parti/s 1, 7, 4;
    %flag_set/vec4 8;
    %jmp/0 T_2.6, 8;
    %load/vec4 v000001e860657f60_0;
    %inv;
    %pushi/vec4 1, 0, 8;
    %add;
    %jmp/1 T_2.7, 8;
T_2.6 ; End of true expr.
    %load/vec4 v000001e860657f60_0;
    %jmp/0 T_2.7, 8;
 ; End of false expr.
    %blend;
T_2.7;
    %store/vec4 v000001e8606585a0_0, 0, 8;
    %load/vec4 v000001e8606585a0_0;
    %cmpi/s 16, 0, 8;
    %jmp/0xz  T_2.8, 5;
    %load/vec4 v000001e860657f60_0;
    %store/vec4 v000001e860657ce0_0, 0, 8;
    %jmp T_2.9;
T_2.8 ;
    %load/vec4 v000001e8606585a0_0;
    %cmpi/s 32, 0, 8;
    %flag_or 5, 4; GT is !LE
    %flag_inv 5;
    %jmp/0xz  T_2.10, 5;
    %load/vec4 v000001e860657f60_0;
    %parti/s 1, 7, 4;
    %flag_set/vec4 8;
    %jmp/0 T_2.12, 8;
    %pushi/vec4 240, 0, 8;
    %jmp/1 T_2.13, 8;
T_2.12 ; End of true expr.
    %pushi/vec4 15, 0, 8;
    %jmp/0 T_2.13, 8;
 ; End of false expr.
    %blend;
T_2.13;
    %store/vec4 v000001e860657ce0_0, 0, 8;
    %jmp T_2.11;
T_2.10 ;
    %load/vec4 v000001e860657f60_0;
    %parti/s 1, 7, 4;
    %flag_set/vec4 8;
    %jmp/0 T_2.14, 8;
    %pushi/vec4 240, 0, 8;
    %jmp/1 T_2.15, 8;
T_2.14 ; End of true expr.
    %pushi/vec4 15, 0, 8;
    %jmp/0 T_2.15, 8;
 ; End of false expr.
    %blend;
T_2.15;
    %store/vec4 v000001e860657ce0_0, 0, 8;
    %load/vec4 v000001e860657ce0_0;
    %load/vec4 v000001e8606585a0_0;
    %subi 16, 0, 8;
    %ix/load 4, 1, 0;
    %flag_set/imm 4, 0;
    %shiftr 4;
    %sub;
    %store/vec4 v000001e860657ce0_0, 0, 8;
    %load/vec4 v000001e860657f60_0;
    %parti/s 1, 7, 4;
    %flag_set/vec4 8;
    %jmp/0xz  T_2.16, 8;
    %load/vec4 v000001e860657ce0_0;
    %inv;
    %pushi/vec4 1, 0, 8;
    %add;
    %store/vec4 v000001e860657ce0_0, 0, 8;
T_2.16 ;
T_2.11 ;
T_2.9 ;
    %load/vec4 v000001e860657ce0_0;
    %ret/vec4 0, 0, 8;  Assign to tanh_approx (store_vec4_to_lval)
    %disable/flow S_000001e8606413d0;
    %end;
S_000001e860649450 .scope module, "tb_power_manager" "tb_power_manager" 4 11;
 .timescale -9 -12;
P_000001e860650dd0 .param/l "CLK_PERIOD" 0 4 13, +C4<00000000000000000000000000001010>;
v000001e8606a6460_0 .var "accel_active", 0 0;
v000001e8606a6d20_0 .var "active_accel", 1 0;
v000001e8606a79a0_0 .net "bank_power_en", 18 0, v000001e8606586e0_0;  1 drivers
v000001e8606a72c0_0 .var "clk", 0 0;
v000001e8606a7e00_0 .net "cnn_clk_en", 0 0, v000001e860658820_0;  1 drivers
v000001e8606a6aa0_0 .net "cnn_dsp_en", 0 0, v000001e860657d80_0;  1 drivers
v000001e8606a6140_0 .var "current_state", 2 0;
v000001e8606a6be0_0 .net "mlp_clk_en", 0 0, v000001e860658a00_0;  1 drivers
v000001e8606a75e0_0 .net "mlp_dsp_en", 0 0, v000001e860657ba0_0;  1 drivers
v000001e8606a6960_0 .net "rnn_clk_en", 0 0, v000001e860657c40_0;  1 drivers
v000001e8606a66e0_0 .net "rnn_dsp_en", 0 0, v000001e860657e20_0;  1 drivers
v000001e8606a77c0_0 .var "rst_n", 0 0;
E_000001e860651510 .event posedge, v000001e8606583c0_0;
S_000001e860641560 .scope begin, "$ivl_for_loop0" "$ivl_for_loop0" 4 176, 4 176 0, S_000001e860649450;
 .timescale -9 -12;
v000001e860658000_0 .var/2s "i", 31 0;
S_000001e86065cc40 .scope function.vec2.u32, "count_banks" "count_banks" 4 291, 4 291 0, S_000001e860649450;
 .timescale -9 -12;
v000001e8606580a0_0 .var/2s "count", 31 0;
; Variable count_banks is bool return value of scope S_000001e86065cc40
TD_tb_power_manager.count_banks ;
    %fork t_1, S_000001e86065cdd0;
    %jmp t_0;
    .scope S_000001e86065cdd0;
t_1 ;
    %pushi/vec4 0, 0, 32;
    %store/vec4 v000001e860658280_0, 0, 32;
T_3.18 ;
    %load/vec4 v000001e860658280_0;
    %cmpi/s 19, 0, 32;
    %jmp/0xz T_3.19, 5;
    %load/vec4 v000001e8606a79a0_0;
    %load/vec4 v000001e860658280_0;
    %part/s 1;
    %flag_set/vec4 8;
    %jmp/0xz  T_3.20, 8;
    ; show_stmt_assign_vector: Get l-value for compressed += operand
    %load/vec4 v000001e8606580a0_0;
    %pushi/vec4 1, 0, 32;
    %add;
    %cast2;
    %store/vec4 v000001e8606580a0_0, 0, 32;
T_3.20 ;
    ; show_stmt_assign_vector: Get l-value for compressed += operand
    %load/vec4 v000001e860658280_0;
    %pushi/vec4 1, 0, 32;
    %add;
    %cast2;
    %store/vec4 v000001e860658280_0, 0, 32;
    %jmp T_3.18;
T_3.19 ;
    %end;
    .scope S_000001e86065cc40;
t_0 %join;
    %load/vec4 v000001e8606580a0_0;
    %ret/vec4 0, 0, 32;  Assign to count_banks (store_vec4_to_lval)
    %disable/flow S_000001e86065cc40;
    %end;
S_000001e86065cdd0 .scope begin, "$ivl_for_loop1" "$ivl_for_loop1" 4 293, 4 293 0, S_000001e86065cc40;
 .timescale -9 -12;
v000001e860658280_0 .var/2s "i", 31 0;
S_000001e860645d80 .scope task, "display_bank_count" "display_bank_count" 4 299, 4 299 0, S_000001e860649450;
 .timescale -9 -12;
TD_tb_power_manager.display_bank_count ;
    %callf/vec4 TD_tb_power_manager.count_banks, S_000001e86065cc40;
    %vpi_call/w 4 300 "$display", "  Active banks: %0d/%0d", S<0,vec4,s32>, P_000001e860661928 {1 0 0};
    %end;
S_000001e860645f10 .scope module, "dut" "power_manager" 4 42, 5 13 0, S_000001e860649450;
 .timescale -9 -12;
    .port_info 0 /INPUT 1 "clk";
    .port_info 1 /INPUT 1 "rst_n";
    .port_info 2 /INPUT 2 "active_accel";
    .port_info 3 /INPUT 1 "accel_active";
    .port_info 4 /INPUT 3 "current_state";
    .port_info 5 /OUTPUT 1 "mlp_clk_en";
    .port_info 6 /OUTPUT 1 "cnn_clk_en";
    .port_info 7 /OUTPUT 1 "rnn_clk_en";
    .port_info 8 /OUTPUT 19 "bank_power_en";
    .port_info 9 /OUTPUT 1 "mlp_dsp_en";
    .port_info 10 /OUTPUT 1 "cnn_dsp_en";
    .port_info 11 /OUTPUT 1 "rnn_dsp_en";
v000001e860658640_0 .net "accel_active", 0 0, v000001e8606a6460_0;  1 drivers
v000001e860658140_0 .net "active_accel", 1 0, v000001e8606a6d20_0;  1 drivers
v000001e8606586e0_0 .var "bank_power_en", 18 0;
v000001e8606583c0_0 .net "clk", 0 0, v000001e8606a72c0_0;  1 drivers
v000001e860658820_0 .var "cnn_clk_en", 0 0;
v000001e860657d80_0 .var "cnn_dsp_en", 0 0;
v000001e8606588c0_0 .net "current_state", 2 0, v000001e8606a6140_0;  1 drivers
v000001e860658a00_0 .var "mlp_clk_en", 0 0;
v000001e860657ba0_0 .var "mlp_dsp_en", 0 0;
v000001e860657c40_0 .var "rnn_clk_en", 0 0;
v000001e860657e20_0 .var "rnn_dsp_en", 0 0;
v000001e860657ec0_0 .net "rst_n", 0 0, v000001e8606a77c0_0;  1 drivers
E_000001e860650990 .event anyedge, v000001e8606588c0_0, v000001e860658640_0, v000001e860658140_0;
E_000001e8606511d0 .event anyedge, v000001e8606588c0_0;
E_000001e860651190 .event anyedge, v000001e860658640_0, v000001e860658140_0;
    .scope S_000001e86065cc40;
T_5 ;
    %pushi/vec4 0, 0, 32;
    %store/vec4 v000001e8606580a0_0, 0, 32;
    %end;
    .thread T_5, $init;
    .scope S_000001e860645f10;
T_6 ;
Ewait_0 .event/or E_000001e860651190, E_0x0;
    %wait Ewait_0;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v000001e860658a00_0, 0, 1;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v000001e860658820_0, 0, 1;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v000001e860657c40_0, 0, 1;
    %load/vec4 v000001e860658640_0;
    %flag_set/vec4 8;
    %jmp/0xz  T_6.0, 8;
    %load/vec4 v000001e860658140_0;
    %dup/vec4;
    %pushi/vec4 0, 0, 2;
    %cmp/u;
    %jmp/1 T_6.2, 6;
    %dup/vec4;
    %pushi/vec4 1, 0, 2;
    %cmp/u;
    %jmp/1 T_6.3, 6;
    %dup/vec4;
    %pushi/vec4 2, 0, 2;
    %cmp/u;
    %jmp/1 T_6.4, 6;
    %jmp T_6.6;
T_6.2 ;
    %pushi/vec4 1, 0, 1;
    %store/vec4 v000001e860658a00_0, 0, 1;
    %jmp T_6.6;
T_6.3 ;
    %pushi/vec4 1, 0, 1;
    %store/vec4 v000001e860658820_0, 0, 1;
    %jmp T_6.6;
T_6.4 ;
    %pushi/vec4 1, 0, 1;
    %store/vec4 v000001e860657c40_0, 0, 1;
    %jmp T_6.6;
T_6.6 ;
    %pop/vec4 1;
T_6.0 ;
    %jmp T_6;
    .thread T_6, $push;
    .scope S_000001e860645f10;
T_7 ;
Ewait_1 .event/or E_000001e8606511d0, E_0x0;
    %wait Ewait_1;
    %pushi/vec4 0, 0, 19;
    %store/vec4 v000001e8606586e0_0, 0, 19;
    %pushi/vec4 1, 0, 1;
    %ix/load 4, 0, 0;
    %flag_set/imm 4, 0;
    %store/vec4 v000001e8606586e0_0, 4, 1;
    %pushi/vec4 1, 0, 1;
    %ix/load 4, 1, 0;
    %flag_set/imm 4, 0;
    %store/vec4 v000001e8606586e0_0, 4, 1;
    %pushi/vec4 1, 0, 1;
    %ix/load 4, 2, 0;
    %flag_set/imm 4, 0;
    %store/vec4 v000001e8606586e0_0, 4, 1;
    %pushi/vec4 1, 0, 1;
    %ix/load 4, 3, 0;
    %flag_set/imm 4, 0;
    %store/vec4 v000001e8606586e0_0, 4, 1;
    %load/vec4 v000001e8606588c0_0;
    %dup/vec4;
    %pushi/vec4 0, 0, 3;
    %cmp/u;
    %jmp/1 T_7.0, 6;
    %dup/vec4;
    %pushi/vec4 1, 0, 3;
    %cmp/u;
    %jmp/1 T_7.1, 6;
    %dup/vec4;
    %pushi/vec4 2, 0, 3;
    %cmp/u;
    %jmp/1 T_7.2, 6;
    %dup/vec4;
    %pushi/vec4 3, 0, 3;
    %cmp/u;
    %jmp/1 T_7.3, 6;
    %dup/vec4;
    %pushi/vec4 4, 0, 3;
    %cmp/u;
    %jmp/1 T_7.4, 6;
    %dup/vec4;
    %pushi/vec4 5, 0, 3;
    %cmp/u;
    %jmp/1 T_7.5, 6;
    %jmp T_7.7;
T_7.0 ;
    %jmp T_7.7;
T_7.1 ;
    %pushi/vec4 1, 0, 1;
    %ix/load 4, 4, 0;
    %flag_set/imm 4, 0;
    %store/vec4 v000001e8606586e0_0, 4, 1;
    %pushi/vec4 1, 0, 1;
    %ix/load 4, 5, 0;
    %flag_set/imm 4, 0;
    %store/vec4 v000001e8606586e0_0, 4, 1;
    %pushi/vec4 1, 0, 1;
    %ix/load 4, 6, 0;
    %flag_set/imm 4, 0;
    %store/vec4 v000001e8606586e0_0, 4, 1;
    %pushi/vec4 1, 0, 1;
    %ix/load 4, 7, 0;
    %flag_set/imm 4, 0;
    %store/vec4 v000001e8606586e0_0, 4, 1;
    %pushi/vec4 1, 0, 1;
    %ix/load 4, 8, 0;
    %flag_set/imm 4, 0;
    %store/vec4 v000001e8606586e0_0, 4, 1;
    %pushi/vec4 1, 0, 1;
    %ix/load 4, 9, 0;
    %flag_set/imm 4, 0;
    %store/vec4 v000001e8606586e0_0, 4, 1;
    %pushi/vec4 1, 0, 1;
    %ix/load 4, 10, 0;
    %flag_set/imm 4, 0;
    %store/vec4 v000001e8606586e0_0, 4, 1;
    %pushi/vec4 1, 0, 1;
    %ix/load 4, 11, 0;
    %flag_set/imm 4, 0;
    %store/vec4 v000001e8606586e0_0, 4, 1;
    %pushi/vec4 1, 0, 1;
    %ix/load 4, 12, 0;
    %flag_set/imm 4, 0;
    %store/vec4 v000001e8606586e0_0, 4, 1;
    %pushi/vec4 1, 0, 1;
    %ix/load 4, 13, 0;
    %flag_set/imm 4, 0;
    %store/vec4 v000001e8606586e0_0, 4, 1;
    %pushi/vec4 1, 0, 1;
    %ix/load 4, 14, 0;
    %flag_set/imm 4, 0;
    %store/vec4 v000001e8606586e0_0, 4, 1;
    %pushi/vec4 1, 0, 1;
    %ix/load 4, 15, 0;
    %flag_set/imm 4, 0;
    %store/vec4 v000001e8606586e0_0, 4, 1;
    %jmp T_7.7;
T_7.2 ;
    %jmp T_7.7;
T_7.3 ;
    %pushi/vec4 1, 0, 1;
    %ix/load 4, 4, 0;
    %flag_set/imm 4, 0;
    %store/vec4 v000001e8606586e0_0, 4, 1;
    %pushi/vec4 1, 0, 1;
    %ix/load 4, 5, 0;
    %flag_set/imm 4, 0;
    %store/vec4 v000001e8606586e0_0, 4, 1;
    %pushi/vec4 1, 0, 1;
    %ix/load 4, 6, 0;
    %flag_set/imm 4, 0;
    %store/vec4 v000001e8606586e0_0, 4, 1;
    %pushi/vec4 1, 0, 1;
    %ix/load 4, 7, 0;
    %flag_set/imm 4, 0;
    %store/vec4 v000001e8606586e0_0, 4, 1;
    %pushi/vec4 1, 0, 1;
    %ix/load 4, 8, 0;
    %flag_set/imm 4, 0;
    %store/vec4 v000001e8606586e0_0, 4, 1;
    %pushi/vec4 1, 0, 1;
    %ix/load 4, 9, 0;
    %flag_set/imm 4, 0;
    %store/vec4 v000001e8606586e0_0, 4, 1;
    %pushi/vec4 1, 0, 1;
    %ix/load 4, 10, 0;
    %flag_set/imm 4, 0;
    %store/vec4 v000001e8606586e0_0, 4, 1;
    %pushi/vec4 1, 0, 1;
    %ix/load 4, 11, 0;
    %flag_set/imm 4, 0;
    %store/vec4 v000001e8606586e0_0, 4, 1;
    %pushi/vec4 1, 0, 1;
    %ix/load 4, 12, 0;
    %flag_set/imm 4, 0;
    %store/vec4 v000001e8606586e0_0, 4, 1;
    %pushi/vec4 1, 0, 1;
    %ix/load 4, 13, 0;
    %flag_set/imm 4, 0;
    %store/vec4 v000001e8606586e0_0, 4, 1;
    %pushi/vec4 1, 0, 1;
    %ix/load 4, 14, 0;
    %flag_set/imm 4, 0;
    %store/vec4 v000001e8606586e0_0, 4, 1;
    %pushi/vec4 1, 0, 1;
    %ix/load 4, 15, 0;
    %flag_set/imm 4, 0;
    %store/vec4 v000001e8606586e0_0, 4, 1;
    %pushi/vec4 1, 0, 1;
    %ix/load 4, 16, 0;
    %flag_set/imm 4, 0;
    %store/vec4 v000001e8606586e0_0, 4, 1;
    %pushi/vec4 1, 0, 1;
    %ix/load 4, 17, 0;
    %flag_set/imm 4, 0;
    %store/vec4 v000001e8606586e0_0, 4, 1;
    %pushi/vec4 1, 0, 1;
    %ix/load 4, 18, 0;
    %flag_set/imm 4, 0;
    %store/vec4 v000001e8606586e0_0, 4, 1;
    %jmp T_7.7;
T_7.4 ;
    %jmp T_7.7;
T_7.5 ;
    %jmp T_7.7;
T_7.7 ;
    %pop/vec4 1;
    %jmp T_7;
    .thread T_7, $push;
    .scope S_000001e860645f10;
T_8 ;
Ewait_2 .event/or E_000001e860650990, E_0x0;
    %wait Ewait_2;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v000001e860657ba0_0, 0, 1;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v000001e860657d80_0, 0, 1;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v000001e860657e20_0, 0, 1;
    %load/vec4 v000001e8606588c0_0;
    %cmpi/e 3, 0, 3;
    %flag_get/vec4 4;
    %jmp/0 T_8.2, 4;
    %load/vec4 v000001e860658640_0;
    %and;
T_8.2;
    %flag_set/vec4 8;
    %jmp/0xz  T_8.0, 8;
    %load/vec4 v000001e860658140_0;
    %dup/vec4;
    %pushi/vec4 0, 0, 2;
    %cmp/u;
    %jmp/1 T_8.3, 6;
    %dup/vec4;
    %pushi/vec4 1, 0, 2;
    %cmp/u;
    %jmp/1 T_8.4, 6;
    %dup/vec4;
    %pushi/vec4 2, 0, 2;
    %cmp/u;
    %jmp/1 T_8.5, 6;
    %jmp T_8.7;
T_8.3 ;
    %pushi/vec4 1, 0, 1;
    %store/vec4 v000001e860657ba0_0, 0, 1;
    %jmp T_8.7;
T_8.4 ;
    %pushi/vec4 1, 0, 1;
    %store/vec4 v000001e860657d80_0, 0, 1;
    %jmp T_8.7;
T_8.5 ;
    %pushi/vec4 1, 0, 1;
    %store/vec4 v000001e860657e20_0, 0, 1;
    %jmp T_8.7;
T_8.7 ;
    %pop/vec4 1;
T_8.0 ;
    %jmp T_8;
    .thread T_8, $push;
    .scope S_000001e860649450;
T_9 ;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v000001e8606a72c0_0, 0, 1;
T_9.0 ;
    %delay 5000, 0;
    %load/vec4 v000001e8606a72c0_0;
    %inv;
    %store/vec4 v000001e8606a72c0_0, 0, 1;
    %jmp T_9.0;
    %end;
    .thread T_9;
    .scope S_000001e860649450;
T_10 ;
    %vpi_call/w 4 61 "$display", "=======================================================" {0 0 0};
    %vpi_call/w 4 62 "$display", "  Power Manager Testbench" {0 0 0};
    %vpi_call/w 4 63 "$display", "=======================================================" {0 0 0};
    %pushi/vec4 0, 0, 1;
    %store/vec4 v000001e8606a77c0_0, 0, 1;
    %pushi/vec4 0, 0, 2;
    %store/vec4 v000001e8606a6d20_0, 0, 2;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v000001e8606a6460_0, 0, 1;
    %pushi/vec4 0, 0, 3;
    %store/vec4 v000001e8606a6140_0, 0, 3;
    %pushi/vec4 5, 0, 32;
T_10.0 %dup/vec4;
    %pushi/vec4 0, 0, 32;
    %cmp/s;
    %jmp/1xz T_10.1, 5;
    %jmp/1 T_10.1, 4;
    %pushi/vec4 1, 0, 32;
    %sub;
    %wait E_000001e860651510;
    %jmp T_10.0;
T_10.1 ;
    %pop/vec4 1;
    %pushi/vec4 1, 0, 1;
    %store/vec4 v000001e8606a77c0_0, 0, 1;
    %pushi/vec4 5, 0, 32;
T_10.2 %dup/vec4;
    %pushi/vec4 0, 0, 32;
    %cmp/s;
    %jmp/1xz T_10.3, 5;
    %jmp/1 T_10.3, 4;
    %pushi/vec4 1, 0, 32;
    %sub;
    %wait E_000001e860651510;
    %jmp T_10.2;
T_10.3 ;
    %pop/vec4 1;
    %vpi_call/w 4 78 "$display", "\012[%0t] TEST 1: Clock Gating - IDLE", $time {0 0 0};
    %vpi_call/w 4 79 "$display", "-------------------------------------------------------" {0 0 0};
    %pushi/vec4 0, 0, 1;
    %store/vec4 v000001e8606a6460_0, 0, 1;
    %pushi/vec4 0, 0, 3;
    %store/vec4 v000001e8606a6140_0, 0, 3;
    %wait E_000001e860651510;
    %load/vec4 v000001e8606a6be0_0;
    %flag_set/vec4 8;
    %jmp/1 T_10.7, 8;
    %load/vec4 v000001e8606a7e00_0;
    %flag_set/vec4 9;
    %flag_or 8, 9;
T_10.7;
    %jmp/1 T_10.6, 8;
    %load/vec4 v000001e8606a6960_0;
    %flag_set/vec4 9;
    %flag_or 8, 9;
T_10.6;
    %jmp/0xz  T_10.4, 8;
    %vpi_call/w 4 86 "$display", "  ERROR: Clocks should be gated in IDLE!" {0 0 0};
    %vpi_call/w 4 87 "$fatal", 32'sb00000000000000000000000000000001 {0 0 0};
T_10.4 ;
    %vpi_call/w 4 89 "$display", "  All clocks gated: PASS" {0 0 0};
    %vpi_call/w 4 94 "$display", "\012[%0t] TEST 2: Clock Gating - MLP Active", $time {0 0 0};
    %vpi_call/w 4 95 "$display", "-------------------------------------------------------" {0 0 0};
    %pushi/vec4 0, 0, 2;
    %store/vec4 v000001e8606a6d20_0, 0, 2;
    %pushi/vec4 1, 0, 1;
    %store/vec4 v000001e8606a6460_0, 0, 1;
    %wait E_000001e860651510;
    %load/vec4 v000001e8606a6be0_0;
    %nor/r;
    %flag_set/vec4 8;
    %jmp/1 T_10.11, 8;
    %load/vec4 v000001e8606a7e00_0;
    %flag_set/vec4 9;
    %flag_or 8, 9;
T_10.11;
    %jmp/1 T_10.10, 8;
    %load/vec4 v000001e8606a6960_0;
    %flag_set/vec4 9;
    %flag_or 8, 9;
T_10.10;
    %jmp/0xz  T_10.8, 8;
    %vpi_call/w 4 102 "$display", "  ERROR: Only MLP clock should be enabled!" {0 0 0};
    %vpi_call/w 4 103 "$display", "  MLP: %b, CNN: %b, RNN: %b", v000001e8606a6be0_0, v000001e8606a7e00_0, v000001e8606a6960_0 {0 0 0};
    %vpi_call/w 4 104 "$fatal", 32'sb00000000000000000000000000000001 {0 0 0};
T_10.8 ;
    %vpi_call/w 4 106 "$display", "  MLP clock enabled, others gated: PASS" {0 0 0};
    %vpi_call/w 4 111 "$display", "\012[%0t] TEST 3: Clock Gating - CNN Active", $time {0 0 0};
    %vpi_call/w 4 112 "$display", "-------------------------------------------------------" {0 0 0};
    %pushi/vec4 1, 0, 2;
    %store/vec4 v000001e8606a6d20_0, 0, 2;
    %pushi/vec4 1, 0, 1;
    %store/vec4 v000001e8606a6460_0, 0, 1;
    %wait E_000001e860651510;
    %load/vec4 v000001e8606a6be0_0;
    %flag_set/vec4 8;
    %jmp/1 T_10.15, 8;
    %load/vec4 v000001e8606a7e00_0;
    %nor/r;
    %flag_set/vec4 9;
    %flag_or 8, 9;
T_10.15;
    %jmp/1 T_10.14, 8;
    %load/vec4 v000001e8606a6960_0;
    %flag_set/vec4 9;
    %flag_or 8, 9;
T_10.14;
    %jmp/0xz  T_10.12, 8;
    %vpi_call/w 4 119 "$display", "  ERROR: Only CNN clock should be enabled!" {0 0 0};
    %vpi_call/w 4 120 "$fatal", 32'sb00000000000000000000000000000001 {0 0 0};
T_10.12 ;
    %vpi_call/w 4 122 "$display", "  CNN clock enabled, others gated: PASS" {0 0 0};
    %vpi_call/w 4 127 "$display", "\012[%0t] TEST 4: Clock Gating - RNN Active", $time {0 0 0};
    %vpi_call/w 4 128 "$display", "-------------------------------------------------------" {0 0 0};
    %pushi/vec4 2, 0, 2;
    %store/vec4 v000001e8606a6d20_0, 0, 2;
    %pushi/vec4 1, 0, 1;
    %store/vec4 v000001e8606a6460_0, 0, 1;
    %wait E_000001e860651510;
    %load/vec4 v000001e8606a6be0_0;
    %flag_set/vec4 8;
    %jmp/1 T_10.19, 8;
    %load/vec4 v000001e8606a7e00_0;
    %flag_set/vec4 9;
    %flag_or 8, 9;
T_10.19;
    %jmp/1 T_10.18, 8;
    %load/vec4 v000001e8606a6960_0;
    %nor/r;
    %flag_set/vec4 9;
    %flag_or 8, 9;
T_10.18;
    %jmp/0xz  T_10.16, 8;
    %vpi_call/w 4 135 "$display", "  ERROR: Only RNN clock should be enabled!" {0 0 0};
    %vpi_call/w 4 136 "$fatal", 32'sb00000000000000000000000000000001 {0 0 0};
T_10.16 ;
    %vpi_call/w 4 138 "$display", "  RNN clock enabled, others gated: PASS" {0 0 0};
    %vpi_call/w 4 143 "$display", "\012[%0t] TEST 5: BRAM Power - IDLE State", $time {0 0 0};
    %vpi_call/w 4 144 "$display", "-------------------------------------------------------" {0 0 0};
    %pushi/vec4 0, 0, 1;
    %store/vec4 v000001e8606a6460_0, 0, 1;
    %pushi/vec4 0, 0, 3;
    %store/vec4 v000001e8606a6140_0, 0, 3;
    %wait E_000001e860651510;
    %load/vec4 v000001e8606a79a0_0;
    %parti/s 1, 0, 2;
    %nor/r;
    %flag_set/vec4 8;
    %jmp/1 T_10.24, 8;
    %load/vec4 v000001e8606a79a0_0;
    %parti/s 1, 1, 2;
    %nor/r;
    %flag_set/vec4 9;
    %flag_or 8, 9;
T_10.24;
    %jmp/1 T_10.23, 8;
    %load/vec4 v000001e8606a79a0_0;
    %parti/s 1, 2, 3;
    %nor/r;
    %flag_set/vec4 9;
    %flag_or 8, 9;
T_10.23;
    %jmp/1 T_10.22, 8;
    %load/vec4 v000001e8606a79a0_0;
    %parti/s 1, 3, 3;
    %nor/r;
    %flag_set/vec4 9;
    %flag_or 8, 9;
T_10.22;
    %jmp/0xz  T_10.20, 8;
    %vpi_call/w 4 153 "$display", "  ERROR: I/O banks should be powered!" {0 0 0};
    %vpi_call/w 4 154 "$fatal", 32'sb00000000000000000000000000000001 {0 0 0};
T_10.20 ;
    %load/vec4 v000001e8606a79a0_0;
    %parti/s 1, 4, 4;
    %flag_set/vec4 8;
    %jmp/1 T_10.27, 8;
    %load/vec4 v000001e8606a79a0_0;
    %parti/s 1, 5, 4;
    %flag_set/vec4 9;
    %flag_or 8, 9;
T_10.27;
    %jmp/0xz  T_10.25, 8;
    %vpi_call/w 4 159 "$display", "  ERROR: Weight banks should be powered down!" {0 0 0};
    %vpi_call/w 4 160 "$fatal", 32'sb00000000000000000000000000000001 {0 0 0};
T_10.25 ;
    %vpi_call/w 4 163 "$display", "  I/O banks on, weight banks off: PASS" {0 0 0};
    %fork TD_tb_power_manager.display_bank_count, S_000001e860645d80;
    %join;
    %vpi_call/w 4 169 "$display", "\012[%0t] TEST 6: BRAM Power - LOAD_WEIGHTS", $time {0 0 0};
    %vpi_call/w 4 170 "$display", "-------------------------------------------------------" {0 0 0};
    %pushi/vec4 1, 0, 3;
    %store/vec4 v000001e8606a6140_0, 0, 3;
    %wait E_000001e860651510;
    %fork t_3, S_000001e860641560;
    %jmp t_2;
    .scope S_000001e860641560;
t_3 ;
    %pushi/vec4 4, 0, 32;
    %store/vec4 v000001e860658000_0, 0, 32;
T_10.28 ;
    %load/vec4 v000001e860658000_0;
    %cmpi/u 15, 0, 32;
    %flag_or 5, 4;
    %jmp/0xz T_10.29, 5;
    %load/vec4 v000001e8606a79a0_0;
    %load/vec4 v000001e860658000_0;
    %part/s 1;
    %nor/r;
    %flag_set/vec4 8;
    %jmp/0xz  T_10.30, 8;
    %vpi_call/w 4 178 "$display", "  ERROR: Weight bank %0d should be powered!", v000001e860658000_0 {0 0 0};
    %vpi_call/w 4 179 "$fatal", 32'sb00000000000000000000000000000001 {0 0 0};
T_10.30 ;
    ; show_stmt_assign_vector: Get l-value for compressed += operand
    %load/vec4 v000001e860658000_0;
    %pushi/vec4 1, 0, 32;
    %add;
    %cast2;
    %store/vec4 v000001e860658000_0, 0, 32;
    %jmp T_10.28;
T_10.29 ;
    %end;
    .scope S_000001e860649450;
t_2 %join;
    %vpi_call/w 4 183 "$display", "  Weight banks powered: PASS" {0 0 0};
    %fork TD_tb_power_manager.display_bank_count, S_000001e860645d80;
    %join;
    %vpi_call/w 4 189 "$display", "\012[%0t] TEST 7: BRAM Power - COMPUTE", $time {0 0 0};
    %vpi_call/w 4 190 "$display", "-------------------------------------------------------" {0 0 0};
    %pushi/vec4 3, 0, 3;
    %store/vec4 v000001e8606a6140_0, 0, 3;
    %wait E_000001e860651510;
    %load/vec4 v000001e8606a79a0_0;
    %parti/s 1, 16, 6;
    %nor/r;
    %flag_set/vec4 8;
    %jmp/1 T_10.35, 8;
    %load/vec4 v000001e8606a79a0_0;
    %parti/s 1, 17, 6;
    %nor/r;
    %flag_set/vec4 9;
    %flag_or 8, 9;
T_10.35;
    %jmp/1 T_10.34, 8;
    %load/vec4 v000001e8606a79a0_0;
    %parti/s 1, 18, 6;
    %nor/r;
    %flag_set/vec4 9;
    %flag_or 8, 9;
T_10.34;
    %jmp/0xz  T_10.32, 8;
    %vpi_call/w 4 198 "$display", "  ERROR: Activation/bias banks should be powered!" {0 0 0};
    %vpi_call/w 4 199 "$fatal", 32'sb00000000000000000000000000000001 {0 0 0};
T_10.32 ;
    %vpi_call/w 4 202 "$display", "  All compute banks powered: PASS" {0 0 0};
    %fork TD_tb_power_manager.display_bank_count, S_000001e860645d80;
    %join;
    %vpi_call/w 4 208 "$display", "\012[%0t] TEST 8: DSP Isolation - IDLE", $time {0 0 0};
    %vpi_call/w 4 209 "$display", "-------------------------------------------------------" {0 0 0};
    %pushi/vec4 0, 0, 1;
    %store/vec4 v000001e8606a6460_0, 0, 1;
    %pushi/vec4 0, 0, 3;
    %store/vec4 v000001e8606a6140_0, 0, 3;
    %wait E_000001e860651510;
    %load/vec4 v000001e8606a75e0_0;
    %flag_set/vec4 8;
    %jmp/1 T_10.39, 8;
    %load/vec4 v000001e8606a6aa0_0;
    %flag_set/vec4 9;
    %flag_or 8, 9;
T_10.39;
    %jmp/1 T_10.38, 8;
    %load/vec4 v000001e8606a66e0_0;
    %flag_set/vec4 9;
    %flag_or 8, 9;
T_10.38;
    %jmp/0xz  T_10.36, 8;
    %vpi_call/w 4 216 "$display", "  ERROR: All DSPs should be isolated in IDLE!" {0 0 0};
    %vpi_call/w 4 217 "$fatal", 32'sb00000000000000000000000000000001 {0 0 0};
T_10.36 ;
    %vpi_call/w 4 219 "$display", "  All DSPs isolated: PASS" {0 0 0};
    %vpi_call/w 4 224 "$display", "\012[%0t] TEST 9: DSP Isolation - MLP COMPUTE", $time {0 0 0};
    %vpi_call/w 4 225 "$display", "-------------------------------------------------------" {0 0 0};
    %pushi/vec4 0, 0, 2;
    %store/vec4 v000001e8606a6d20_0, 0, 2;
    %pushi/vec4 1, 0, 1;
    %store/vec4 v000001e8606a6460_0, 0, 1;
    %pushi/vec4 3, 0, 3;
    %store/vec4 v000001e8606a6140_0, 0, 3;
    %wait E_000001e860651510;
    %load/vec4 v000001e8606a75e0_0;
    %nor/r;
    %flag_set/vec4 8;
    %jmp/1 T_10.43, 8;
    %load/vec4 v000001e8606a6aa0_0;
    %flag_set/vec4 9;
    %flag_or 8, 9;
T_10.43;
    %jmp/1 T_10.42, 8;
    %load/vec4 v000001e8606a66e0_0;
    %flag_set/vec4 9;
    %flag_or 8, 9;
T_10.42;
    %jmp/0xz  T_10.40, 8;
    %vpi_call/w 4 233 "$display", "  ERROR: Only MLP DSPs should be active!" {0 0 0};
    %vpi_call/w 4 234 "$display", "  MLP: %b, CNN: %b, RNN: %b", v000001e8606a75e0_0, v000001e8606a6aa0_0, v000001e8606a66e0_0 {0 0 0};
    %vpi_call/w 4 235 "$fatal", 32'sb00000000000000000000000000000001 {0 0 0};
T_10.40 ;
    %vpi_call/w 4 237 "$display", "  MLP DSPs active, others isolated: PASS" {0 0 0};
    %vpi_call/w 4 242 "$display", "\012[%0t] TEST 10: Power State Transitions", $time {0 0 0};
    %vpi_call/w 4 243 "$display", "-------------------------------------------------------" {0 0 0};
    %pushi/vec4 1, 0, 2;
    %store/vec4 v000001e8606a6d20_0, 0, 2;
    %pushi/vec4 1, 0, 1;
    %store/vec4 v000001e8606a6460_0, 0, 1;
    %pushi/vec4 0, 0, 3;
    %store/vec4 v000001e8606a6140_0, 0, 3;
    %wait E_000001e860651510;
    %callf/vec4 TD_tb_power_manager.count_banks, S_000001e86065cc40;
    %vpi_call/w 4 251 "$display", "  IDLE \342\206\222 %0d banks powered", S<0,vec4,s32> {1 0 0};
    %pushi/vec4 1, 0, 3;
    %store/vec4 v000001e8606a6140_0, 0, 3;
    %wait E_000001e860651510;
    %callf/vec4 TD_tb_power_manager.count_banks, S_000001e86065cc40;
    %vpi_call/w 4 255 "$display", "  LOAD_WEIGHTS \342\206\222 %0d banks powered", S<0,vec4,s32> {1 0 0};
    %pushi/vec4 2, 0, 3;
    %store/vec4 v000001e8606a6140_0, 0, 3;
    %wait E_000001e860651510;
    %callf/vec4 TD_tb_power_manager.count_banks, S_000001e86065cc40;
    %vpi_call/w 4 259 "$display", "  LOAD_INPUT \342\206\222 %0d banks powered", S<0,vec4,s32> {1 0 0};
    %pushi/vec4 3, 0, 3;
    %store/vec4 v000001e8606a6140_0, 0, 3;
    %wait E_000001e860651510;
    %callf/vec4 TD_tb_power_manager.count_banks, S_000001e86065cc40;
    %vpi_call/w 4 263 "$display", "  COMPUTE \342\206\222 %0d banks powered", S<0,vec4,s32> {1 0 0};
    %pushi/vec4 4, 0, 3;
    %store/vec4 v000001e8606a6140_0, 0, 3;
    %wait E_000001e860651510;
    %callf/vec4 TD_tb_power_manager.count_banks, S_000001e86065cc40;
    %vpi_call/w 4 267 "$display", "  STORE_OUTPUT \342\206\222 %0d banks powered", S<0,vec4,s32> {1 0 0};
    %pushi/vec4 5, 0, 3;
    %store/vec4 v000001e8606a6140_0, 0, 3;
    %wait E_000001e860651510;
    %callf/vec4 TD_tb_power_manager.count_banks, S_000001e86065cc40;
    %vpi_call/w 4 271 "$display", "  DONE \342\206\222 %0d banks powered", S<0,vec4,s32> {1 0 0};
    %pushi/vec4 0, 0, 3;
    %store/vec4 v000001e8606a6140_0, 0, 3;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v000001e8606a6460_0, 0, 1;
    %wait E_000001e860651510;
    %callf/vec4 TD_tb_power_manager.count_banks, S_000001e86065cc40;
    %vpi_call/w 4 276 "$display", "  Back to IDLE \342\206\222 %0d banks powered", S<0,vec4,s32> {1 0 0};
    %vpi_call/w 4 278 "$display", "  State transition sequence: PASS" {0 0 0};
    %vpi_call/w 4 281 "$display", "\012=======================================================" {0 0 0};
    %vpi_call/w 4 282 "$display", "  All Power Manager Tests Passed!" {0 0 0};
    %vpi_call/w 4 283 "$display", "=======================================================" {0 0 0};
    %pushi/vec4 10, 0, 32;
T_10.44 %dup/vec4;
    %pushi/vec4 0, 0, 32;
    %cmp/s;
    %jmp/1xz T_10.45, 5;
    %jmp/1 T_10.45, 4;
    %pushi/vec4 1, 0, 32;
    %sub;
    %wait E_000001e860651510;
    %jmp T_10.44;
T_10.45 ;
    %pop/vec4 1;
    %vpi_call/w 4 285 "$finish" {0 0 0};
    %end;
    .thread T_10;
    .scope S_000001e860649450;
T_11 ;
    %delay 100000000, 0;
    %vpi_call/w 4 308 "$display", "\012ERROR: Simulation timeout!" {0 0 0};
    %vpi_call/w 4 309 "$finish" {0 0 0};
    %end;
    .thread T_11;
    .scope S_000001e860649450;
T_12 ;
    %vpi_call/w 4 316 "$dumpfile", "tb_power_manager.vcd" {0 0 0};
    %vpi_call/w 4 317 "$dumpvars", 32'sb00000000000000000000000000000000, S_000001e860649450 {0 0 0};
    %end;
    .thread T_12;
# The file index is used to find the file name in the following table.
:file_names 6;
    "N/A";
    "<interactive>";
    "-";
    "common/rtl/accel_pkg.sv";
    "common/tb/tb_power_manager.sv";
    "common/rtl/power_manager.sv";
